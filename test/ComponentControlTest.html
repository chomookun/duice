<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="../dist/duice.js"></script>
    <link rel="stylesheet" href="../dist/duice.css">
    <script>
        'use strict';
        let myObject = new duice.ObjectProxy({
            id: 'apple',
            name: 'Apple',
        });

        let myArray = new duice.ArrayProxy([
            { id: 'apple', name: 'Apple' },
            { id: 'orange', name: 'Orange' }
        ]);

        /**
         * MyObjectComponent
         */
        duice.defineComponent("my-object-component", class MyObjectComponent extends duice.Component {
            doRender(object) {
                return `
                    <div>
                        <span duice:object="object" duice:property="name"></span>
                        <input type="text" duice:object="object" duice:property="name" class="bg-red"/>
                    </div>
                `;
            }
            doStyle(data) {
                return `
                    .bg-red {
                        background-color: red;
                    }
                `;
            }
        });

        /**
         * MyArrayComponent
         */
        duice.defineComponent("my-array-component", class MyArrayComponent extends duice.Component {
            doRender(array) {
                return `
                <div>
                    <div duice:array="array" duice:loop="item,status">
                        <input type="text" duice:object="item" duice:property="name"></input>
                    </div>
                </div>
                `;
            }
        });

        /**
         * MyNestedComponent
         */
        duice.defineComponent("my-nested-component", class MyNestedComponent extends duice.Component {
            doRender(array) {
                return `
                <div>
                    <div duice:array="array" duice:loop="item,status">
                        <my-object-component duice:object="item"></my-object-component>
                    </div>
                </div>
                `;
            }
        });

        /**
         * MyShadowComponent
         */
        duice.defineComponent("my-shadow-component", class MyShadowComponent extends duice.Component {
            constructor(){
                super();
                this.attachShadow({mode:"open"});
            }
            doRender(object) {
                return `
                    <div>
                        <span duice:object="object" duice:property="name"></span>
                        <input type="text" duice:object="object" duice:property="name"/>
                    </div>
                `;
            }
        });

    </script>
</head>
<body>

<h2> Direct HTML</h2>
<input type="text" duice:object="myObject" duice:property="name" style="background-color:red;"/>

<h2>Object to Component</h2>
<my-object-component duice:object="myObject"></my-object-component>

<h2>Array to Component</h2>
<my-array-component duice:array="myArray"></my-array-component>

<h2>Nested Component</h2>
<my-nested-component duice:array="myArray"></my-nested-component>

<h2>Shadow DOM Component</h2>
<my-shadow-component duice:object="myObject"></my-shadow-component>

</body>
</html>