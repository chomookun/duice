<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Custom Component Test</title>
    <script src="../dist/duice.js"></script>
    <link rel="stylesheet" href="../dist/duice.css">
    <script>
        'use strict';
        let myObject = new duice.ObjectProxy({
            id: 'apple',
            name: 'Apple',
        });

        let myArray = new duice.ArrayProxy([
            { id: 'apple', name: 'Apple' },
            { id: 'orange', name: 'Orange' }
        ]);

        /**
         * MyObjectElement
         */
        duice.defineElement("my-object", class extends duice.CustomElement {
            doRender(object) {
                return this.createElement(`
                    <div>
                        <span data-duice-object="object" data-duice-property="name"></span>
                        <input type="text" data-duice-object="object" data-duice-property="name" class="bg-red"/>
                    </div>
                `);
            }
            doStyle(data) {
                return `
                    .bg-red {
                        background-color: red;
                    }
                `;
            }
        });

        /**
         * MyArrayComponent
         */
        duice.defineElement("my-array", class extends duice.CustomElement {
            doRender(array) {
                let templateElement = this.createElement(`
                <div>
                    <div data-duice-array="array" data-duice-loop="item,status">
                        <input type="text" data-duice-object="item" data-duice-property="name"/>
                    </div>
                </div>
                `);
                console.log(templateElement);
                return templateElement;
            }
        });

        /**
         * my-array-nested
         */
        duice.defineElement("my-array-nested", class extends duice.CustomElement {
            doRender(array) {
                return this.createElement(`
                <div>
                    <div data-duice-array="array" data-duice-loop="item,status">
                        <my-object data-duice-object="item"></my-object>
                    </div>
                </div>
                `);
            }
        });

    </script>
</head>
<body>

<h1>Custom Element Test</h1>

<h2> Direct HTML</h2>
<input type="text" data-duice-object="myObject" data-duice-property="name" style="background-color:red;"/>

<h2>Custom Object Element</h2>
<my-object data-duice-object="myObject"></my-object>

<h2>Custom Array Element</h2>
<my-array data-duice-array="myArray"></my-array>

<h2>Custom Nested Element</h2>
<my-array-nested data-duice-array="myArray"></my-array-nested>

</body>
</html>